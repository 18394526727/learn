<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Access-Control-Allow-Origin" content="*">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>测试rtmp直播源</title>
	<!--<script src="js/video.js"></script>
	<link href="css/video-js.css" rel="stylesheet">
	&lt;!&ndash; If you'd like to support IE8 &ndash;&gt;
	<script src="js/videojs-ie8.min.js"></script>-->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.5.3/video-js.min.css" rel="stylesheet">
	<script src="https://cdn.bootcss.com/jquery/1.12.0/jquery.min.js"></script>
</head>
<body>
<div class="openFlashTips" style="width:300px;position:absolute;top:20px;left:225px;z-Index:9999;color:white">视频无法正常播放，请点击下方启用flash</div>
<video id="video-player" style="color:black;width:750px;height:350px" class="video-js" controls preload="auto" width="750" height="350" data-setup="{}">
	<source src='rtmp://media3.sinovision.net:1935/live/livestream' type='rtmp/flv'/>
</video>
<embed width="300" height="70" class="openFlash" style="position:absolute;top:130px;left:225px;z-Index:9999;" type="application/x-shockwave-flash">
<script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/5.5.3/video.min.js"></script>
<script type="text/javascript" language="JavaScript">
    function flashChecker() {
        var hasFlash = 0;         //是否安装了flash
        var flashVersion = 0; //flash版本
        var isIE = 0;      //是否IE浏览器
        if (isIE) {
            var swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
            if (swf) {
                hasFlash = 1;
                VSwf = swf.GetVariable("$version");
                flashVersion = parseInt(VSwf.split(" ")[1].split(",")[0]);
            }
        } else {
            if (navigator.plugins && navigator.plugins.length > 0) {
                var swf = navigator.plugins["Shockwave Flash"];
                if (swf) {
                    hasFlash = 1;
                    var words = swf.description.split(" ");
                    for (var i = 0; i < words.length; ++i) {
                        if (isNaN(parseInt(words[i]))) continue;
                        flashVersion = parseInt(words[i]);
                    }
                }
            }
        }
        return {f: hasFlash, v: flashVersion};
    }

    var fls = flashChecker();
    if (fls.f) {
        $(".openFlash,.openFlashTips").hide()
    }
    else {
        $(".openFlash,.openFlashTips").show()
    }

    var player = videojs('video-player', {}, function onPlayerReady() {
        videojs.log('Your player is ready!');

        this.play();

        this.on('ended', function() {
            videojs.log('Awww...over so soon?!');
        });
    });
</script>
</body>
</html>
